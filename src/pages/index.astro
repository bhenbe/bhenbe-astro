---
import BaseLayout     from 'layout:BaseLayout';
import BlockText      from "component:BlockText";
import BlockTextImage from "component:BlockTextImage";
import BlockCta       from "component:BlockCta";
import BlockClient    from "component:BlockClient";
import GetHomepage    from "query:GetHomepage";

const data = await GetHomepage(import.meta.env.PUBLIC_DATO_API_TOKEN);
const description = 'Site web de Benoit Henry, designer UI/UX et développeur front-end spécialisé dans la conception de design system et sites jamstack statiques éco-responsables.'
---
<BaseLayout title="Bhen - designer UI/UX et développeur front-end ReactJS" description={description}>
    {data.pageContentAlt.blocks.map(block => {
        switch(block.__typename) {
            case 'BlockTextRecord': 
                return <BlockText 
                        title={block.blockTextTitle} 
                        content={block.blockTextContent}
                        image={block.backgroundImage}
                        />
            case 'BlockTextImageRecord': 
                return <BlockTextImage 
                        title={block.blockTextImageTitle} 
                        slug={block.slug}
                        content={block.blockTextImageContent}
                        image={block.blockTextImageImage}
                        />
            case 'BlockCtaRecord': 
                return <BlockCta 
                        content={block.blockCtaContent}
                        label={block.blockCtaLabel}
                        url={block.blockCtaUrl}
                        />
            case 'BlockTextImageRecord': 
                return <BlockClient 
                        title={block.blockClientTitle} 
                        content={block.blockClientContent}
                        />
        }
    })}
</BaseLayout>