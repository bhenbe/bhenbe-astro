---
import BaseLayout from '../layouts/BaseLayout.astro'

import BlockText from "../components/BlockText.astro";
import BlockTextImage from "../components/BlockTextImage.astro";
import BlockCta from "../components/BlockCta.astro";
import BlockClient from "../components/BlockClient.astro";

import HomepageData from "../queries/GetHomepage.js";
const data = await HomepageData();
---
<BaseLayout title={data.pageTitle}>
    <!-- Output the result to the page -->
    <h1>{data.pageTitle}</h1>
    {data.pageContentAlt.blocks.map(block => {
        switch(block._modelApiKey) {
            case 'block_text': 
                return <BlockText 
                        title={block.blockTextTitle} 
                        content={block.blockTextContent}
                        />
            case 'block_text_image': 
                return <BlockTextImage 
                        title={block.blockTextImageTitle} 
                        content={block.blockTextImageContent}
                        image={block.blockTextImageImage}
                        />
            case 'block_cta': 
                return <BlockCta 
                        content={block.blockCtaContent}
                        label={block.blockCtaLabel}
                        url={block.blockCtaUrl}
                        />
            case 'block_client': 
                return <BlockClient 
                        title={block.blockClientTitle} 
                        content={block.blockClientContent}
                        />
        }
    })}
</BaseLayout>